var R=Object.defineProperty;var E=(n,t,e)=>t in n?R(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var u=(n,t,e)=>E(n,typeof t!="symbol"?t+"":t,e);import{R as h,j as A}from"./react-CCjLKhKT.js";import{p as a}from"./prop-types-CPs_slIG.js";const j=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),g=n=>Array.isArray(n)&&n.every(t=>typeof t=="object"&&!(t instanceof Array)),L=n=>Array.isArray(n)&&n.every(t=>Array.isArray(t)),O=n=>Array.from(n.map(t=>Object.keys(t)).reduce((t,e)=>new Set([...t,...e]),[])),U=(n,t)=>{t=t||O(n);let e=t,s=t;g(t)&&(e=t.map(o=>o.label),s=t.map(o=>o.key));const r=n.map(o=>s.map(i=>$(i,o)));return[e,...r]},$=(n,t)=>{const e=n.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(s,r,o,i){const c=s[r];if(c==null)i.splice(1);else return c},t);return e===void 0?n in t?t[n]:"":e},S=n=>typeof n>"u"||n===null?"":n,m=(n,t=",",e='"')=>n.filter(s=>s).map(s=>s.map(r=>S(r)).map(r=>`${e}${r}${e}`).join(t)).join(`
`),x=(n,t,e,s)=>m(t?[t,...n]:n,e,s),I=(n,t,e,s)=>m(U(n,t),e,s),T=(n,t,e,s)=>t?`${t.join(e)}
${n}`:n.replace(/"/g,'""'),b=(n,t,e,s)=>{if(g(n))return I(n,t,e,s);if(L(n))return x(n,t,e,s);if(typeof n=="string")return T(n,t,e);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},C=(n,t,e,s,r)=>{const o=b(n,e,s,r),i=j()?"application/csv":"text/csv",c=new Blob([t?"\uFEFF":"",o],{type:i}),l=`data:${i};charset=utf-8,${t?"\uFEFF":""}${o}`,p=window.URL||window.webkitURL;return typeof p.createObjectURL>"u"?l:p.createObjectURL(c)},k={data:a.oneOfType([a.string,a.array,a.func]).isRequired,headers:a.array,target:a.string,separator:a.string,filename:a.string,uFEFF:a.bool,onClick:a.func,asyncOnClick:a.bool,enclosingCharacter:a.string},F={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},B={target:"_blank"};class y extends h.Component{constructor(t){super(t),this.state={}}buildURI(){return C(...arguments)}componentDidMount(){const{data:t,headers:e,separator:s,enclosingCharacter:r,uFEFF:o,target:i,specs:c,replace:l}=this.props;this.state.page=window.open(this.buildURI(t,o,e,s,r),i,c,l)}getWindow(){return this.state.page}render(){return null}}u(y,"defaultProps",Object.assign(F,B)),u(y,"propTypes",k);var f;let D=(f=class extends h.Component{constructor(t){super(t),this.buildURI=this.buildURI.bind(this)}buildURI(){return C(...arguments)}handleLegacy(t,e=!1){if(window.navigator.msSaveOrOpenBlob){t.preventDefault();const{data:s,headers:r,separator:o,filename:i,enclosingCharacter:c,uFEFF:l}=this.props,p=e&&typeof s=="function"?s():s;let d=new Blob([l?"\uFEFF":"",b(p,r,o,c)]);return window.navigator.msSaveBlob(d,i),!1}}handleAsyncClick(t){const e=s=>{if(s===!1){t.preventDefault();return}this.handleLegacy(t,!0)};this.props.onClick(t,e)}handleSyncClick(t){if(this.props.onClick(t)===!1){t.preventDefault();return}this.handleLegacy(t)}handleClick(){return t=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(t):this.handleSyncClick(t);this.handleLegacy(t)}}render(){const{data:t,headers:e,separator:s,filename:r,uFEFF:o,children:i,onClick:c,asyncOnClick:l,enclosingCharacter:p,...d}=this.props,v=typeof window>"u"?"":this.buildURI(t,o,e,s,p);return A.jsx("a",{download:r,...d,ref:w=>this.link=w,target:"_self",href:v,onClick:this.handleClick(),children:i})}},u(f,"defaultProps",F),u(f,"propTypes",k),f);const q=D;export{q as C};
